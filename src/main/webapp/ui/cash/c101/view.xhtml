<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/templates/default-template.xhtml">

    <ui:define name="viewname">#{msgs['menu.cash.c101']} / #{msgs['btn.view']}</ui:define>

    <ui:define name="content">
        <h:form id="listForm">
            <div class="ui-g">

                <div class="ui-g-12 ui-md-12 ui-lg-12">
                    <p:fieldset legend="#{msgs['c101.recive.money']}" style="border: 0px;">
                        <p:panel style="max-width: 800px;margin-bottom: 10px;border-right: 0px;border-radius: 0px;">
                            <div class="ui-fluid">
                                <p:panelGrid columns="2" layout="grid" columnClasses="ui-grid-col-3,ui-grid-col-7" styleClass="ui-panelgrid-blank">
                                    <p:outputLabel value="#{msgs['c101.bankName']} :"/>
                                    <h:panelGrid columns="2">
                                        <h:graphicImage value="./resources/images/bank/#{c101Controller.userTxn.paymentId.bankId.logo}"/>
                                        <h:outputText value="#{c101Controller.userTxn.paymentId.bankId.bankNameTh}" styleClass="lb_bold"/>
                                    </h:panelGrid>

                                    <p:outputLabel value="#{msgs['c101.accountName']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.paymentId.accountNameTh}"/>

                                    <p:outputLabel value="#{msgs['c101.bankAccount']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.paymentId.accountNumber}"/>

                                    <p:outputLabel value="#{msgs['c101.branch']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.paymentId.branch}"/>

                                </p:panelGrid>
                            </div>
                        </p:panel>
                    </p:fieldset>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12">
                    <p:fieldset legend="#{msgs['c101.play.money']}" style="border: 0px;">
                        <p:panel style="max-width: 800px;margin-bottom: 10px;border-right: 0px;border-radius: 0px;">
                            <div class="ui-fluid">
                                <p:panelGrid columns="2" layout="grid" columnClasses="ui-grid-col-3,ui-grid-col-7" styleClass="ui-panelgrid-blank">
                                    <p:outputLabel value="#{msgs['common.username']} ："/>
                                    <h:outputText value="#{c101Controller.userTxn.userId.username}"/>

                                    <p:outputLabel value="#{msgs['c101.user.banName']} ："/>
                                    <h:outputText value="#{c101Controller.userTxn.userId.bankName}"/>

                                    <p:outputLabel value="#{msgs['c101.user.telephone']} ："/>
                                    <h:outputText value="#{c101Controller.userTxn.userId.mobile}"/>

                                    <p:outputLabel value="#{msgs['c101.user.email']} ："/>
                                    <h:outputText value="#{c101Controller.userTxn.userId.email}"/>

                                    <p:outputLabel value="#{msgs['c101.bankName']} :"/>
                                    <h:panelGrid columns="2">
                                        <h:graphicImage value="./resources/images/bank/#{c101Controller.userTxn.userId.bankId.logo}"/>
                                        <h:outputText value="#{c101Controller.userTxn.userId.bankId.bankNameTh}" styleClass="lb_bold"/>
                                    </h:panelGrid>

                                    <p:outputLabel value="#{msgs['c101.accountName']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.userId.bankName}"/>

                                    <p:outputLabel value="#{msgs['c101.bankAccount']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.userId.bankAcount}"/>

                                </p:panelGrid>
                            </div>
                        </p:panel>
                    </p:fieldset>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12">
                    <p:fieldset legend="#{msgs['c101.promotion']}" style="border: 0px;">
                        <p:panel style="max-width: 800px;margin-bottom: 10px;border-right: 0px;border-radius: 0px;">
                            <div class="ui-fluid">
                                <p:panelGrid columns="2" layout="grid" columnClasses="ui-grid-col-3,ui-grid-col-7" styleClass="ui-panelgrid-blank">
                                    <p:outputLabel value="#{msgs['c101.promotion.name']} ："/>
                                    <h:outputText value="#{c101Controller.userTxn.promotionId.promotionName eq null ? '-' : c101Controller.userTxn.promotionId.promotionName}" style="color:green;font-weight: bold;"/>

                                    <p:outputLabel value="#{msgs['p106.detail.ratesPromotion']} ：" style="vertical-align:middle;"/>
                                    <h:panelGroup>
                                        <h:outputText value="#{c101Controller.userTxn.promotionId.proportionSet eq null ? '-' : 
                                                               (c101Controller.userTxn.promotionId.promotionType eq PFConstants.PRO_TYPE_PERSEN ? msgs['p103.addmoney.persen']:
                                                               c101Controller.userTxn.promotionId.promotionType eq PFConstants.PRO_TYPE_AMOUNT ? msgs['p103.addmoney']: msgs['p103.refund'])}"  
                                                      style="color:green;font-weight: bold;"/>
                                        <p:spacer width="10px" />
                                        <h:outputText value="#{c101Controller.userTxn.promotionId.promotionType ne PFConstants.PRO_TYPE_REFUND ?c101Controller.userTxn.promotionId.proportionSet:''}"  
                                                      style="color:green;font-weight: bold;vertical-align:middle;width:180px;" >
                                            <f:convertNumber pattern="#,##0.00"/>
                                        </h:outputText>
                                    </h:panelGroup>

                                    <p:outputLabel value="#{msgs['p103.minimum.limit']} ："/>
                                    <h:outputText value="#{c101Controller.userTxn.promotionId.mininumLimit eq null ? '-' : c101Controller.userTxn.promotionId.mininumLimit}"  style="color:crimson;font-weight: bold;">
                                        <f:convertNumber pattern="#,##0" maxIntegerDigits="5"/>
                                    </h:outputText>

                                    <p:outputLabel value="#{msgs['c101.promotion.limit']} ："/>
                                    <h:outputText value="#{c101Controller.userTxn.promotionId.upperLimit eq null ? '-' : c101Controller.userTxn.promotionId.upperLimit}"  style="color:crimson;font-weight: bold;">
                                        <f:convertNumber pattern="#,##0" maxIntegerDigits="5"/>
                                    </h:outputText>

                                    <p:outputLabel value="#{msgs['c101.promotion.remark']} ："/>
                                    <h:outputText value="#{c101Controller.userTxn.remark eq null ? '-' : c101Controller.userTxn.remark}"/>                            
                                </p:panelGrid>
                            </div>
                        </p:panel>
                    </p:fieldset>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12">
                    <p:fieldset legend="#{msgs['c101.detail']}" style="border: 0px;">
                        <p:panel style="max-width: 800px;margin-bottom: 10px;border-right: 0px;border-radius: 0px;">
                            <div class="ui-fluid">
                                <p:panelGrid columns="2" layout="grid" columnClasses="ui-grid-col-3,ui-grid-col-7" styleClass="ui-panelgrid-blank">
                                    <p:outputLabel value="#{msgs['c101.refcode']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.id}" style="color:green;font-weight: bold;"/>

                                    <p:outputLabel value="#{msgs['c101.reciveTime']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.txnDt}" style="color:green;font-weight: bold;">
                                        <f:convertDateTime pattern="#{PFConstants.DATE_TIME_PATTERN}"/>
                                    </h:outputText>

                                    <p:outputLabel value="#{msgs['c101.detail.deposit']} ："/>
                                    <h:panelGroup>
                                        <h:outputText value="#{c101Controller.userTxn.amount}" 
                                                      rendered="#{c101Controller.userTxn.amount != null}" style="color:green;font-weight: bold;">
                                            <f:convertNumber  pattern="#,##0.00"/>
                                        </h:outputText>
                                        <h:outputText value="N/A" rendered="#{c101Controller.userTxn.amount eq null}" style="color: red;"/>
                                    </h:panelGroup>

                                    <h:outputText value="#{msgs['c101.detail.slip']} :" rendered="#{c101Controller.userTxn.slip != null}"/>
                                    <h:panelGroup rendered="#{c101Controller.userTxn.slip  != null}">
                                        <p:tooltip for="view_slip" value="#{msgs['c101.detail.viewSlip']}" trackMouse="true"/>
                                        <p:commandButton id="view_slip" icon="fa fa-file-image-o" onclick="PF('slip').show();" style="width: 32px;border: 0px;" type="button"/>
                                    </h:panelGroup> 
                                    
                                    <h:outputText value="#{msgs['c101.payChannels']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.payChnId.payName}" style="color:green;font-weight: bold;"/>

                                    <p:outputLabel value="#{msgs['c101.status']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.status eq PFConstants.USER_TXN_STATUS_ONPROCESS ? msgs['c101.onProcess']:''}" 
                                                  rendered="#{c101Controller.userTxn.status eq PFConstants.USER_TXN_STATUS_ONPROCESS}" />
                                    <h:outputText value="#{c101Controller.userTxn.status eq PFConstants.USER_TXN_STATUS_ACCEPT ?msgs['c101.accept']:''}" 
                                                  rendered="#{c101Controller.userTxn.status eq PFConstants.USER_TXN_STATUS_ACCEPT }" style="color:green;font-weight: bold;"/>
                                    <h:outputText value="#{c101Controller.userTxn.status eq PFConstants.USER_TXN_STATUS_REJECT ?msgs['c101.reject']:''}" 
                                                  rendered="#{c101Controller.userTxn.status eq PFConstants.USER_TXN_STATUS_REJECT }" style="color: red;font-weight: bold;"/>

                                    <p:outputLabel value="#{msgs['c101.detail.approveremark']} ："/>
                                    <h:outputText value="#{c101Controller.userTxn.approveRemark eq null ? '-' : c101Controller.userTxn.approveRemark}"/>

                                    <p:outputLabel value="#{msgs['c101.user.datetime']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.createdDt}" style="color:green;font-weight: bold;">
                                        <f:convertDateTime pattern="#{PFConstants.DATE_TIME_PATTERN}"/>
                                    </h:outputText>

                                    <p:outputLabel value="#{msgs['c101.detail.approve']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.approveBy}" style="color:green;font-weight: bold;"/>

                                    <p:outputLabel value="#{msgs['c101.detail.approveDate']} :"/>
                                    <h:outputText value="#{c101Controller.userTxn.approveDt}" style="color:green;font-weight: bold;">
                                        <f:convertDateTime pattern="#{PFConstants.DATE_TIME_PATTERN}"/>
                                    </h:outputText>

                                </p:panelGrid>
                            </div>
                        </p:panel>
                    </p:fieldset>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12">
                    <p:fieldset style="border: 0px;">
                        <p:panel style="max-width: 800px;margin-bottom: 10px;border-right: 0px;border-radius: 0px;">
                            <div class="ui-fluid">
                                <p:panelGrid columns="4" layout="grid" columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3" styleClass="ui-panelgrid-blank">

                                    <h:panelGroup>
                                        <p:outputLabel value="#{msgs['c101.detail.createDate']} ：" styleClass="sub-label"/>
                                        <h:outputText value="#{c101Controller.userTxn.createdDt}" styleClass="sub-label">
                                            <f:convertDateTime pattern="#{PFConstants.DATE_PATTERN}"/>
                                        </h:outputText>
                                    </h:panelGroup>

                                    <h:panelGroup>
                                        <p:outputLabel value="#{msgs['c101.detail.createBy']} ：" styleClass="sub-label"/>
                                        <h:outputText value="#{c101Controller.userTxn.createdBy}" styleClass="sub-label"/>
                                    </h:panelGroup>

                                    <h:panelGroup>
                                        <p:outputLabel value="#{msgs['common.modifiedDt']} ：" styleClass="sub-label"/>
                                        <h:outputText value="#{c101Controller.userTxn.approveDt}" styleClass="sub-label">
                                            <f:convertDateTime pattern="#{PFConstants.DATE_PATTERN}"/>
                                        </h:outputText>
                                    </h:panelGroup>

                                    <h:panelGroup>
                                        <p:outputLabel value="#{msgs['common.modifiedBy']} ：" styleClass="sub-label"/>
                                        <h:outputText value="#{c101Controller.userTxn.approveBy}" styleClass="sub-label"/>
                                    </h:panelGroup>

                                </p:panelGrid>
                            </div>
                        </p:panel>
                    </p:fieldset>
                </div>
                <div class="ui-g-12 ui-md-12 ui-lg-12">
                    <h:panelGrid columns="2">
                        <p:commandButton binding="#{bindingController.btnBack}" value="#{msgs['btn.back']}" action="#{c101Controller.gotoIndexView()}" styleClass="clear-btn"/>
                    </h:panelGrid>
                </div>
            </div>
        </h:form>

        <ui:include src="slip.xhtml"/>
    </ui:define>
</ui:composition>
